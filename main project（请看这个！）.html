<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="format-detection" content="telephone=no" />
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<title>中秋佳节</title>
		<script src="jquery-3.7.1.min.js"></script>
		<style>
			body {
				margin: 0;
				padding: 0;
				overflow: hidden;
				/* 禁止滚动 */
				height: 100vh;
				/* 让整个页面的高度等于视口 */
			}

			#all1 {
				background: url('background.png') 0 0 no-repeat;
				background-size: 100% 100%;
				margin: 0;
				padding: 0;
				position: relative;
				overflow: hidden;
				height: 100vh;
				/* 设置高度为视口的高度 */
			}

			#chang_e,
			#rabbit,
			#lantern,
			#text_box {
				position: absolute;
				opacity: 0;
				/* 初始隐藏 */
				animation: floatIn 2s forwards;
				/* 动画效果 */
			}

			#chang_e {
				width: 50%;
				top: 10%;
				left: 40%;
				animation: floatIn 2s forwards, moveChangE 4s ease-in-out infinite;
			}

			#rabbit {
				width: 15%;
				top: 25%;
				left: 20%;
				animation: floatIn 2s forwards, moveRabbit 3s ease-in-out infinite;
			}

			#lantern {
				width: 10%;
				top: 5%;
				right: 0%;
				animation: floatIn 2s forwards, moveLatern 15s ease-in-out infinite;
			}

			#text_box {
				width: 30%;
				bottom: 20%;
				left: 25%;
				cursor: pointer;
				/* 显示点击手势 */
				animation: floatIn 4s forwards;
			}

			/* 动画效果 */
			@keyframes floatIn {
				0% {
					opacity: 0;
					transform: translateY(20px);
				}

				100% {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes moveChangE {
				0% {
					transform: translateX(0) translateY(0);
				}

				50% {
					transform: translateX(-20px) translateY(20px);
				}

				100% {
					transform: translateX(0) translateY(0);
				}
			}

			@keyframes moveRabbit {
				0% {
					transform: translateX(0) translateY(0);
				}

				50% {
					transform: translateX(10px) translateY(10px);
				}

				100% {
					transform: translateX(0) translateY(0);
				}
			}

			@keyframes moveLatern {
				0% {
					transform: translateY(0);
				}

				50% {
					transform: translateY(50px);
				}

				100% {
					transform: translateY(0);
				}
			}

			#all2 {
				display: none;
				/* 初始时隐藏 */
				background: url('background2.png') no-repeat center;
				background-size: cover;
				height: 100vh;
				/* 设置为视口的高度 */
				color: white;
				position: relative;
				font-family: 'Arial', sans-serif;
				font-size: 2em;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			#text-container {
				white-space: pre-wrap;
				overflow: hidden;
				position: absolute;
				/* 设置绝对定位 */
				top: 10%;
				/* 距离页面顶部 20% */
				left: 5%;
				/* 距离页面左侧 5% */
				line-height: 1.5;
				/* 行高 */
				font-size: 0.8em;
				/* 字体大小 */
				color: #7d5607;
				/* 文字颜色 */
				font-family: 'KaiTi', '楷体', serif;
				/* 字体 */
				z-index: 2;
			}

			#text-container::after {
				content: '';
				position: absolute;
				display: inline-block;
				width: 2px;
				height: 1.2em;
				/* 光标高度与文字一致 */
				background: #7d5607;
				/* 光标颜色 */
				animation: blink 1s step-end infinite;
				margin-left: 2px;
				/* 光标稍微与文字分隔开 */
			}

			@keyframes blink {
				50% {
					background: transparent;
				}
			}
			@keyframes riseMoon {
			    0% {
			        transform: translateY(100vh);
			        opacity: 0;
			    }
			    50% {
			        opacity: 0.5;
			    }
			    100% {
			        transform: translateY(0);
			        opacity: 1;
			    }
			}

			/* 新增文字框2，添加动画 */
			#text_box2 {
				position: absolute;
				width: 30%;
				bottom: 20%;
				left: 25%;
				cursor: pointer;
				/* 显示点击手势 */
				animation: floatIn 4s forwards;
				z-index: 2;
			}
			#moon {
			    position: absolute;
			    top: 1%; /* 根据需要调整最终停止的位置 */
			    left: 20%;
			    width: 20%; /* 根据实际图片大小调整 */
			    animation: riseMoon 20s ease-out forwards; /* 5秒内完成动画，ease-out使动画结束时减速 */
				z-index: 1;
			}
		</style>
	</head>
	<body>
		<div id="all1">
			<img id="chang_e" src="嫦娥.png" alt="嫦娥">
			<img id="rabbit" src="兔子.png" alt="兔子">
			<img id="lantern" src="孔明灯.png" alt="孔明灯">
			<img id="text_box" src="文字框1.png" alt="文字框1">
		</div>

		<div id="all2">
			<div id="text-container"></div>
			<img id="moon" src="月亮.png" alt="月亮" style="display: none;">
			<img id="text_box2" src="文字框2.png" alt="文字框2">
		</div>

		<script>
			var size = {
				width: window.innerWidth || document.body.clientWidth,
				height: window.innerHeight || document.body.clientHeight
			};

			// 设置背景和图片的尺寸
			$("#all1").css({
				'width': size.width + "px",
				'height': size.height + 'px'
			});

			// 使每个元素的尺寸适应屏幕
			$("#chang_e").css({
				'width': size.width * 0.6 + 'px'
			});
			$("#rabbit").css({
				'width': size.width * 0.3 + 'px'
			});
			$("#lantern").css({
				'width': size.width * 1 + 'px'
			});
			$("#text_box").css({
				'width': size.width * 0.5 + 'px'
			});
			$("#text_box2").css({
				'width': size.width * 0.5 + 'px'
			});
			$("#moon").css({
				'width': size.width * 0.6 + 'px'
			});

			// 点击文字框跳转到下一页

$("#text_box").on("click", function() {
    $("#all1").fadeOut(500, function() {
        $("#all2").fadeIn(500, function() { // 显示all2后执行回调函数
            // 显示月亮图片并触发动画
            var moon = $("#moon");
            moon.css('display', 'block'); // 显示月亮图片
            moon.css('animation', 'riseMoon 10s ease-out forwards'); // 触发动画

            // 手动触发#text_box2的动画
            var text_box2 = $("#text_box2");
            text_box2.css('animation', 'none'); // 清除动画以避免延迟
            setTimeout(function() {
                text_box2.css('animation', ''); // 重新应用动画
            }, 10);
            typeWriter(); // 启动打字机效果
        });
    });
});
			const text = `  中秋佳节至，月满人团圆。\n  愿每个人都能在这圆月的映照下，找到属于自己的宁静与美好。\n  愿你心中常存明月之安，亲朋团圆，共享这份温馨与圆满，岁月静好，时光不老。`;

			const textContainer = document.getElementById('text-container');
			let index = 0;

			function typeWriter() {
				if (index < text.length) {
					textContainer.textContent += text[index];
					index++;
					setTimeout(typeWriter, 100);
				}
			}

			// 新增文字框2的效果
			$("#text_box2").on("click", function() {
				window.location.href="card.html"
			});
		</script>
	</body>
</html>